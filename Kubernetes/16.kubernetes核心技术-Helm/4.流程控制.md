# 流程控制

流程控制是为模板提供了一种能力，满足更复杂的数据逻辑处理。

Helm 模板语言提供以下流程控制语句：

- if/else 条件块

- with 指定范围

- range 循环块

### if

if/else 块是用于在模板中有条件地包含文本块的方法，条件块的基本结构如下：

```yaml
{{ if PIPELINE }}
# Do something
{{ elseif OTHER PIPELINE }}
# Do something else
{{ else }}
# Default case
{{ end }}
```

示例

```yaml
# cat values.yaml
devops: k8

# cat templates/deployment.yaml
...
  template:
    metadata:
      labels:
      app: nginx
{{ if eq .Values.devops "k8s" }}
	devops: 123
{{ else }}
	devops: 456
{{ end }}
```

在上面条件语句使用了 eq 运算符判断是否相等，除此之外，还支持ne、 lt、 gt、 and、 or 等运算符。

注意数据类型。通过模板引擎来渲染一下，会得到如下结果：

```yaml
# helm install --dry-run web ../mychart/
...
labels:
app: nginx
devops: 456
```





