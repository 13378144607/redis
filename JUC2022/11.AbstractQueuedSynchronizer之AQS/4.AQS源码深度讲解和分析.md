# Lock接口的实现类，基本都是通过【聚合】了一个【队列同步器】的子类完成线程访问控制的



# ReentrantLock的原理

![image-20230808222255390](images/15.ReentrantLock的原理.png)



# 从最简单的lock方法开始看看公平和非公平

![image-20230809225123174](images/16.ReentrantLock.png)

![image-20230809225153253](images/17.公平锁和非公平锁.png)

![image-20230809225645216](images/18.公平锁和非公平锁区别.png)

<font color = 'red'>可以明显看出公平锁与非公平锁的lock()方法唯一的区别就在于公平锁在获取同步状态时多了一个限制条件:</font>

<font color = 'orange'>hasQueuedPredecessors()，hasQueuedPredecessors是公平锁加锁时判断等待</font>









